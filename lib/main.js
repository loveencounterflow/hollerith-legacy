(function() {
  var $, BYTEWISE, CND, D, _btws_decode, _btws_encode, _new_level_db, badge, debug, echo, help, log, rpr, step, suspend, urge, warn,
    slice = [].slice;

  CND = require('cnd');

  rpr = CND.rpr;

  badge = 'test-hollerith';

  log = CND.get_logger('plain', badge);

  debug = CND.get_logger('debug', badge);

  warn = CND.get_logger('warn', badge);

  help = CND.get_logger('help', badge);

  urge = CND.get_logger('urge', badge);

  echo = CND.echo.bind(CND);

  suspend = require('coffeenode-suspend');

  step = suspend.step;

  BYTEWISE = require('bytewise');

  _btws_encode = BYTEWISE.encode.bind(BYTEWISE);

  _btws_decode = BYTEWISE.decode.bind(BYTEWISE);

  D = require('pipedreams2');

  $ = D.remit.bind(D);

  _new_level_db = require('level');

  this._zero = _btws_encode(true);

  this._last_octet = new Buffer([0xff]);

  this.new_db = function(route) {
    var R, level_settings, substrate;
    level_settings = {
      'keyEncoding': 'binary',
      'valueEncoding': 'binary',
      'createIfMissing': true,
      'errorIfExists': false,
      'compression': true,
      'sync': false
    };
    substrate = _new_level_db(route, level_settings);
    R = {
      '~isa': 'HOLLERITH/db',
      '%self': substrate
    };
    return R;
  };

  this.clear = function(db, handler) {

    /* TAINT consider to simply remove files as it is faster and leads to more reproducible results as
    we then always really start from scratch
     */
    var count, input, substrate;
    substrate = db['%self'];
    input = substrate.createKeyStream();
    count = 0;
    return input.pipe($((function(_this) {
      return function(key, send, end) {
        return step(function*(resume) {
          if (key != null) {
            count += +1;
            (yield substrate.del(key, resume));
          }
          if (end != null) {
            help("deleted " + count + " entries");
            if (handler != null) {
              return handler(null);
            }
          }
        });
      };
    })(this)));
  };

  this._encode = function(db, key) {
    return _btws_encode(key);
  };

  this._decode = function(db, key) {
    return _btws_decode(key);
  };

  this._rpr_of_key = function(db, key) {
    var first, idx, idx_rpr, phrasetype, second;
    if ((this._type_from_key(db, key)) === 'list') {
      phrasetype = key[0], first = key[1], second = key[2], idx = key[3];
      idx_rpr = idx != null ? rpr(idx) : '';

      /* TAINT should escape metachrs `|`, ':' */

      /* TAINT should use `rpr` on parts of speech (e.g. object value could be a number etc.) */
      return phrasetype + "|" + (first.join(':')) + "|" + (second.join(':')) + "|" + idx_rpr;
    }
    return "" + (rpr(key));
  };

  this.read = function(db, prefix) {
    if (prefix == null) {
      prefix = null;
    }
    if (prefix == null) {
      return db['%self'].createKeyStream();
    }
    return db['%self'].createKeyStream(this._query_from_prefix);
  };

  this.read_sub = function(db, settings, read) {
    var arity, indexed, insert_index, open_stream_count, ref;
    switch (arity = arguments.length) {
      case 2:
        read = settings;
        settings = null;
        break;
      case 3:
        null;
        break;
      default:
        throw new Error("expected 2 or 3 arguments, got " + arity);
    }
    indexed = (ref = settings != null ? settings['indexed'] : void 0) != null ? ref : false;
    insert_index = indexed ? D.new_indexer() : function(x) {
      return x;
    };
    open_stream_count = 0;
    return $((function(_this) {
      return function(outer_data, outer_send, outer_end) {
        var sub_input;
        if (outer_data != null) {
          open_stream_count += +1;
          sub_input = read(outer_data).pipe((function() {
            var buffer;
            buffer = [];
            return $(function(inner_data, _, inner_end) {
              if (inner_data != null) {
                buffer.push(inner_data);
              }
              if (inner_end != null) {
                outer_send(insert_index(buffer));
                return open_stream_count += -1;
              }
            });
          })());
        }
        if (outer_end != null) {
          return repeat_immediately(function() {
            if (open_stream_count !== 0) {
              return true;
            }
            outer_end();
            return false;
          });
        }
      };
    })(this));
  };

  this.new_key = function(db, phrasetype, key_0, value_0, key_1, value_1, idx) {
    if (phrasetype !== 'so' && phrasetype !== 'os') {
      throw new Error("illegal phrasetype: " + (rpr(phrasetype)));
    }
    return [phrasetype, [key_0, value_0], [key_1, value_1], idx != null ? idx : null];
  };

  this.new_so_key = function() {
    var P, db;
    db = arguments[0], P = 2 <= arguments.length ? slice.call(arguments, 1) : [];
    return this.new_key.apply(this, [db, 'so'].concat(slice.call(P)));
  };

  this.new_os_key = function() {
    var P, db;
    db = arguments[0], P = 2 <= arguments.length ? slice.call(arguments, 1) : [];
    return this.new_key.apply(this, [db, 'os'].concat(slice.call(P)));
  };

  this.new_keys = function(db, phrasetype, key_0, value_0, key_1, value_1, idx) {
    var other_phrasetype;
    other_phrasetype = phrasetype === 'so' ? 'os' : 'so';
    return [this.new_key(db, phrasetype, key_0, value_0, key_1, value_1, idx), this.new_key(db, other_phrasetype, key_1, value_1, key_0, value_0, idx)];
  };

  this.new_prefix = function() {
    var db, elements, phrasetype;
    db = arguments[0], phrasetype = arguments[1], elements = 3 <= arguments.length ? slice.call(arguments, 2) : [];
    throw new Error("xxxxxxxxxx");
  };

  this._query_from_prefix = function(db, prefix) {
    var gte, last_gte_idx, lte;
    gte = Buffer.isBuffer(prefix) ? prefix : this._encode(db, prefix);

    /* `BYTEWISE` encodes lists with zeroes at the end; we skip those zeroes to arrive at a minimal prefix to
    which a `0xff` byte can be meaningfully appended:
     */
    last_gte_idx = gte.length - 1;
    while ((last_gte_idx > 0) && (gte[last_gte_idx] === 0x00)) {
      last_gte_idx += -1;
    }
    if (last_gte_idx < gte.length - 1) {
      gte = gte.slice(0, last_gte_idx + 1);
    }
    lte = Buffer.concat([gte, this._last_octet], gte.length + 1);
    return {
      gte: gte,
      lte: lte
    };
  };

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQVFBO0FBQUEsTUFBQSw2SEFBQTtJQUFBLGdCQUFBOztBQUFBLEVBQUEsR0FBQSxHQUE0QixPQUFBLENBQVEsS0FBUixDQUE1QixDQUFBOztBQUFBLEVBQ0EsR0FBQSxHQUE0QixHQUFHLENBQUMsR0FEaEMsQ0FBQTs7QUFBQSxFQUVBLEtBQUEsR0FBNEIsZ0JBRjVCLENBQUE7O0FBQUEsRUFHQSxHQUFBLEdBQTRCLEdBQUcsQ0FBQyxVQUFKLENBQWUsT0FBZixFQUE0QixLQUE1QixDQUg1QixDQUFBOztBQUFBLEVBSUEsS0FBQSxHQUE0QixHQUFHLENBQUMsVUFBSixDQUFlLE9BQWYsRUFBNEIsS0FBNUIsQ0FKNUIsQ0FBQTs7QUFBQSxFQUtBLElBQUEsR0FBNEIsR0FBRyxDQUFDLFVBQUosQ0FBZSxNQUFmLEVBQTRCLEtBQTVCLENBTDVCLENBQUE7O0FBQUEsRUFNQSxJQUFBLEdBQTRCLEdBQUcsQ0FBQyxVQUFKLENBQWUsTUFBZixFQUE0QixLQUE1QixDQU41QixDQUFBOztBQUFBLEVBT0EsSUFBQSxHQUE0QixHQUFHLENBQUMsVUFBSixDQUFlLE1BQWYsRUFBNEIsS0FBNUIsQ0FQNUIsQ0FBQTs7QUFBQSxFQVFBLElBQUEsR0FBNEIsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFULENBQWMsR0FBZCxDQVI1QixDQUFBOztBQUFBLEVBVUEsT0FBQSxHQUE0QixPQUFBLENBQVEsb0JBQVIsQ0FWNUIsQ0FBQTs7QUFBQSxFQVdBLElBQUEsR0FBNEIsT0FBTyxDQUFDLElBWHBDLENBQUE7O0FBQUEsRUFhQSxRQUFBLEdBQTRCLE9BQUEsQ0FBUSxVQUFSLENBYjVCLENBQUE7O0FBQUEsRUFjQSxZQUFBLEdBQTRCLFFBQVEsQ0FBQyxNQUFNLENBQUMsSUFBaEIsQ0FBcUIsUUFBckIsQ0FkNUIsQ0FBQTs7QUFBQSxFQWVBLFlBQUEsR0FBNEIsUUFBUSxDQUFDLE1BQU0sQ0FBQyxJQUFoQixDQUFxQixRQUFyQixDQWY1QixDQUFBOztBQUFBLEVBaUJBLENBQUEsR0FBNEIsT0FBQSxDQUFRLGFBQVIsQ0FqQjVCLENBQUE7O0FBQUEsRUFrQkEsQ0FBQSxHQUE0QixDQUFDLENBQUMsS0FBSyxDQUFDLElBQVIsQ0FBYSxDQUFiLENBbEI1QixDQUFBOztBQUFBLEVBbUJBLGFBQUEsR0FBNEIsT0FBQSxDQUFRLE9BQVIsQ0FuQjVCLENBQUE7O0FBQUEsRUFvQkEsSUFBQyxDQUFBLEtBQUQsR0FBNEIsWUFBQSxDQUFhLElBQWIsQ0FwQjVCLENBQUE7O0FBQUEsRUFxQkEsSUFBQyxDQUFBLFdBQUQsR0FBZ0MsSUFBQSxNQUFBLENBQU8sQ0FBRSxJQUFGLENBQVAsQ0FyQmhDLENBQUE7O0FBQUEsRUF5QkEsSUFBQyxDQUFBLE1BQUQsR0FBVSxTQUFFLEtBQUYsR0FBQTtBQUVSLFFBQUEsNEJBQUE7QUFBQSxJQUFBLGNBQUEsR0FDRTtBQUFBLE1BQUEsYUFBQSxFQUF3QixRQUF4QjtBQUFBLE1BQ0EsZUFBQSxFQUF3QixRQUR4QjtBQUFBLE1BRUEsaUJBQUEsRUFBd0IsSUFGeEI7QUFBQSxNQUdBLGVBQUEsRUFBd0IsS0FIeEI7QUFBQSxNQUlBLGFBQUEsRUFBd0IsSUFKeEI7QUFBQSxNQUtBLE1BQUEsRUFBd0IsS0FMeEI7S0FERixDQUFBO0FBQUEsSUFRQSxTQUFBLEdBQXNCLGFBQUEsQ0FBYyxLQUFkLEVBQXFCLGNBQXJCLENBUnRCLENBQUE7QUFBQSxJQVVBLENBQUEsR0FDRTtBQUFBLE1BQUEsTUFBQSxFQUFrQixjQUFsQjtBQUFBLE1BQ0EsT0FBQSxFQUFrQixTQURsQjtLQVhGLENBQUE7QUFjQSxXQUFPLENBQVAsQ0FoQlE7RUFBQSxDQXpCVixDQUFBOztBQUFBLEVBNENBLElBQUMsQ0FBQSxLQUFELEdBQVMsU0FBRSxFQUFGLEVBQU0sT0FBTixHQUFBO0FBQ1A7QUFBQTs7T0FBQTtBQUFBLFFBQUEsdUJBQUE7QUFBQSxJQUVBLFNBQUEsR0FBWSxFQUFJLENBQUEsT0FBQSxDQUZoQixDQUFBO0FBQUEsSUFHQSxLQUFBLEdBQVksU0FBUyxDQUFDLGVBQVYsQ0FBQSxDQUhaLENBQUE7QUFBQSxJQUlBLEtBQUEsR0FBWSxDQUpaLENBQUE7V0FLQSxLQUNFLENBQUMsSUFESCxDQUNRLENBQUEsQ0FBRSxDQUFBLFNBQUEsS0FBQSxHQUFBO2FBQUEsU0FBRSxHQUFGLEVBQU8sSUFBUCxFQUFhLEdBQWIsR0FBQTtlQUNOLElBQUEsQ0FBSyxVQUFFLE1BQUYsR0FBQTtBQUNILFVBQUEsSUFBRyxXQUFIO0FBQ0UsWUFBQSxLQUFBLElBQVMsQ0FBQSxDQUFULENBQUE7QUFBQSxZQUNBLE9BQUEsU0FBZSxDQUFDLEdBQVYsQ0FBYyxHQUFkLEVBQW1CLE1BQW5CLENBQU4sQ0FEQSxDQURGO1dBQUE7QUFHQSxVQUFBLElBQUcsV0FBSDtBQUNFLFlBQUEsSUFBQSxDQUFLLFVBQUEsR0FBVyxLQUFYLEdBQWlCLFVBQXRCLENBQUEsQ0FBQTtBQUNBLFlBQUEsSUFBZ0IsZUFBaEI7cUJBQUEsT0FBQSxDQUFRLElBQVIsRUFBQTthQUZGO1dBSkc7UUFBQSxDQUFMLEVBRE07TUFBQSxFQUFBO0lBQUEsQ0FBQSxDQUFBLENBQUEsSUFBQSxDQUFGLENBRFIsRUFOTztFQUFBLENBNUNULENBQUE7O0FBQUEsRUFnRUEsSUFBQyxDQUFBLE9BQUQsR0FBVyxTQUFFLEVBQUYsRUFBTSxHQUFOLEdBQUE7V0FBZSxZQUFBLENBQWEsR0FBYixFQUFmO0VBQUEsQ0FoRVgsQ0FBQTs7QUFBQSxFQWlFQSxJQUFDLENBQUEsT0FBRCxHQUFXLFNBQUUsRUFBRixFQUFNLEdBQU4sR0FBQTtXQUFlLFlBQUEsQ0FBYSxHQUFiLEVBQWY7RUFBQSxDQWpFWCxDQUFBOztBQUFBLEVBb0VBLElBQUMsQ0FBQSxXQUFELEdBQWUsU0FBRSxFQUFGLEVBQU0sR0FBTixHQUFBO0FBQ2IsUUFBQSx1Q0FBQTtBQUFBLElBQUEsSUFBRyxDQUFFLElBQUMsQ0FBQSxjQUFELENBQWdCLEVBQWhCLEVBQW9CLEdBQXBCLENBQUYsQ0FBQSxLQUErQixNQUFsQztBQUNFLE1BQUUsbUJBQUYsRUFBYyxjQUFkLEVBQXFCLGVBQXJCLEVBQTZCLFlBQTdCLENBQUE7QUFBQSxNQUNBLE9BQUEsR0FBYSxXQUFILEdBQWEsR0FBQSxDQUFJLEdBQUosQ0FBYixHQUEwQixFQURwQyxDQUFBO0FBRUE7QUFBQSxpREFGQTtBQUdBO0FBQUEsZ0dBSEE7QUFJQSxhQUFVLFVBQUQsR0FBWSxHQUFaLEdBQWMsQ0FBQyxLQUFLLENBQUMsSUFBTixDQUFXLEdBQVgsQ0FBRCxDQUFkLEdBQThCLEdBQTlCLEdBQWdDLENBQUMsTUFBTSxDQUFDLElBQVAsQ0FBWSxHQUFaLENBQUQsQ0FBaEMsR0FBaUQsR0FBakQsR0FBb0QsT0FBN0QsQ0FMRjtLQUFBO0FBTUEsV0FBTyxFQUFBLEdBQUUsQ0FBQyxHQUFBLENBQUksR0FBSixDQUFELENBQVQsQ0FQYTtFQUFBLENBcEVmLENBQUE7O0FBQUEsRUFnRkEsSUFBQyxDQUFBLElBQUQsR0FBUSxTQUFFLEVBQUYsRUFBTSxNQUFOLEdBQUE7O01BQU0sU0FBUztLQUNyQjtBQUFBLElBQUEsSUFBOEMsY0FBOUM7QUFBQSxhQUFPLEVBQUksQ0FBQSxPQUFBLENBQVMsQ0FBQyxlQUFkLENBQUEsQ0FBUCxDQUFBO0tBQUE7QUFDQSxXQUFPLEVBQUksQ0FBQSxPQUFBLENBQVMsQ0FBQyxlQUFkLENBQThCLElBQUMsQ0FBQSxrQkFBL0IsQ0FBUCxDQUZNO0VBQUEsQ0FoRlIsQ0FBQTs7QUFBQSxFQXFGQSxJQUFDLENBQUEsUUFBRCxHQUFZLFNBQUUsRUFBRixFQUFNLFFBQU4sRUFBZ0IsSUFBaEIsR0FBQTtBQUNWLFFBQUEsb0RBQUE7QUFBQSxZQUFPLEtBQUEsR0FBUSxTQUFTLENBQUMsTUFBekI7QUFBQSxXQUNPLENBRFA7QUFFSSxRQUFBLElBQUEsR0FBWSxRQUFaLENBQUE7QUFBQSxRQUNBLFFBQUEsR0FBWSxJQURaLENBRko7QUFDTztBQURQLFdBSU8sQ0FKUDtBQUtJLFFBQUEsSUFBQSxDQUxKO0FBSU87QUFKUDtBQU9JLGNBQVUsSUFBQSxLQUFBLENBQU0saUNBQUEsR0FBa0MsS0FBeEMsQ0FBVixDQVBKO0FBQUEsS0FBQTtBQUFBLElBU0EsT0FBQSwyRUFBNkMsS0FUN0MsQ0FBQTtBQUFBLElBVUEsWUFBQSxHQUF1QixPQUFILEdBQWdCLENBQUMsQ0FBQyxXQUFGLENBQUEsQ0FBaEIsR0FBcUMsU0FBRSxDQUFGLEdBQUE7YUFBUyxFQUFUO0lBQUEsQ0FWekQsQ0FBQTtBQUFBLElBV0EsaUJBQUEsR0FBb0IsQ0FYcEIsQ0FBQTtBQWFBLFdBQU8sQ0FBQSxDQUFFLENBQUEsU0FBQSxLQUFBLEdBQUE7YUFBQSxTQUFFLFVBQUYsRUFBYyxVQUFkLEVBQTBCLFNBQTFCLEdBQUE7QUFFUCxZQUFBLFNBQUE7QUFBQSxRQUFBLElBQUcsa0JBQUg7QUFDRSxVQUFBLGlCQUFBLElBQXNCLENBQUEsQ0FBdEIsQ0FBQTtBQUFBLFVBQ0EsU0FBQSxHQUFZLElBQUEsQ0FBSyxVQUFMLENBQ1YsQ0FBQyxJQURTLENBQ0QsQ0FBQSxTQUFBLEdBQUE7QUFDUCxnQkFBQSxNQUFBO0FBQUEsWUFBQSxNQUFBLEdBQVMsRUFBVCxDQUFBO0FBQ0EsbUJBQU8sQ0FBQSxDQUFFLFNBQUUsVUFBRixFQUFjLENBQWQsRUFBaUIsU0FBakIsR0FBQTtBQUNQLGNBQUEsSUFBMEIsa0JBQTFCO0FBQUEsZ0JBQUEsTUFBTSxDQUFDLElBQVAsQ0FBWSxVQUFaLENBQUEsQ0FBQTtlQUFBO0FBQ0EsY0FBQSxJQUFHLGlCQUFIO0FBQ0UsZ0JBQUEsVUFBQSxDQUFXLFlBQUEsQ0FBYSxNQUFiLENBQVgsQ0FBQSxDQUFBO3VCQUNBLGlCQUFBLElBQXFCLENBQUEsRUFGdkI7ZUFGTztZQUFBLENBQUYsQ0FBUCxDQUZPO1VBQUEsQ0FBQSxDQUFILENBQUEsQ0FESSxDQURaLENBREY7U0FBQTtBQVdBLFFBQUEsSUFBRyxpQkFBSDtpQkFDRSxrQkFBQSxDQUFtQixTQUFBLEdBQUE7QUFDakIsWUFBQSxJQUFtQixpQkFBQSxLQUFxQixDQUF4QztBQUFBLHFCQUFPLElBQVAsQ0FBQTthQUFBO0FBQUEsWUFDQSxTQUFBLENBQUEsQ0FEQSxDQUFBO0FBRUEsbUJBQU8sS0FBUCxDQUhpQjtVQUFBLENBQW5CLEVBREY7U0FiTztNQUFBLEVBQUE7SUFBQSxDQUFBLENBQUEsQ0FBQSxJQUFBLENBQUYsQ0FBUCxDQWRVO0VBQUEsQ0FyRlosQ0FBQTs7QUFBQSxFQTBIQSxJQUFDLENBQUEsT0FBRCxHQUFXLFNBQUUsRUFBRixFQUFNLFVBQU4sRUFBa0IsS0FBbEIsRUFBeUIsT0FBekIsRUFBa0MsS0FBbEMsRUFBeUMsT0FBekMsRUFBa0QsR0FBbEQsR0FBQTtBQUNULElBQUEsSUFBK0QsVUFBQSxLQUFnQixJQUFoQixJQUFBLFVBQUEsS0FBc0IsSUFBckY7QUFBQSxZQUFVLElBQUEsS0FBQSxDQUFNLHNCQUFBLEdBQXNCLENBQUMsR0FBQSxDQUFJLFVBQUosQ0FBRCxDQUE1QixDQUFWLENBQUE7S0FBQTtBQUNBLFdBQU8sQ0FBRSxVQUFGLEVBQWMsQ0FBRSxLQUFGLEVBQVMsT0FBVCxDQUFkLEVBQW1DLENBQUUsS0FBRixFQUFTLE9BQVQsQ0FBbkMsZ0JBQTBELE1BQU0sSUFBaEUsQ0FBUCxDQUZTO0VBQUEsQ0ExSFgsQ0FBQTs7QUFBQSxFQStIQSxJQUFDLENBQUEsVUFBRCxHQUFjLFNBQUEsR0FBQTtBQUFnQixRQUFBLEtBQUE7QUFBQSxJQUFkLG1CQUFJLHlEQUFVLENBQUE7V0FBQSxJQUFDLENBQUEsT0FBRCxhQUFTLENBQUEsRUFBQSxFQUFJLElBQU0sU0FBQSxXQUFBLENBQUEsQ0FBQSxDQUFuQixFQUFoQjtFQUFBLENBL0hkLENBQUE7O0FBQUEsRUFnSUEsSUFBQyxDQUFBLFVBQUQsR0FBYyxTQUFBLEdBQUE7QUFBZ0IsUUFBQSxLQUFBO0FBQUEsSUFBZCxtQkFBSSx5REFBVSxDQUFBO1dBQUEsSUFBQyxDQUFBLE9BQUQsYUFBUyxDQUFBLEVBQUEsRUFBSSxJQUFNLFNBQUEsV0FBQSxDQUFBLENBQUEsQ0FBbkIsRUFBaEI7RUFBQSxDQWhJZCxDQUFBOztBQUFBLEVBbUlBLElBQUMsQ0FBQSxRQUFELEdBQVksU0FBRSxFQUFGLEVBQU0sVUFBTixFQUFrQixLQUFsQixFQUF5QixPQUF6QixFQUFrQyxLQUFsQyxFQUF5QyxPQUF6QyxFQUFrRCxHQUFsRCxHQUFBO0FBQ1YsUUFBQSxnQkFBQTtBQUFBLElBQUEsZ0JBQUEsR0FBdUIsVUFBQSxLQUFjLElBQWpCLEdBQTJCLElBQTNCLEdBQXFDLElBQXpELENBQUE7QUFDQSxXQUFPLENBQ0gsSUFBQyxDQUFBLE9BQUQsQ0FBUyxFQUFULEVBQW1CLFVBQW5CLEVBQStCLEtBQS9CLEVBQXNDLE9BQXRDLEVBQStDLEtBQS9DLEVBQXNELE9BQXRELEVBQStELEdBQS9ELENBREcsRUFFSCxJQUFDLENBQUEsT0FBRCxDQUFTLEVBQVQsRUFBYSxnQkFBYixFQUErQixLQUEvQixFQUFzQyxPQUF0QyxFQUErQyxLQUEvQyxFQUFzRCxPQUF0RCxFQUErRCxHQUEvRCxDQUZHLENBQVAsQ0FGVTtFQUFBLENBbklaLENBQUE7O0FBQUEsRUEwSUEsSUFBQyxDQUFBLFVBQUQsR0FBYyxTQUFBLEdBQUE7QUFBbUMsUUFBQSx3QkFBQTtBQUFBLElBQWpDLG1CQUFJLDJCQUFZLGdFQUFpQixDQUFBO0FBQUEsVUFBVSxJQUFBLEtBQUEsQ0FBTSxZQUFOLENBQVYsQ0FBbkM7RUFBQSxDQTFJZCxDQUFBOztBQUFBLEVBNklBLElBQUMsQ0FBQSxrQkFBRCxHQUFzQixTQUFFLEVBQUYsRUFBTSxNQUFOLEdBQUE7QUFDcEIsUUFBQSxzQkFBQTtBQUFBLElBQUEsR0FBQSxHQUFxQixNQUFNLENBQUMsUUFBUCxDQUFnQixNQUFoQixDQUFMLEdBQW1DLE1BQW5DLEdBQStDLElBQUMsQ0FBQSxPQUFELENBQVMsRUFBVCxFQUFhLE1BQWIsQ0FBL0QsQ0FBQTtBQUNBO0FBQUE7O09BREE7QUFBQSxJQUdBLFlBQUEsR0FBZ0IsR0FBRyxDQUFDLE1BQUosR0FBYSxDQUg3QixDQUFBO0FBSW1CLFdBQU0sQ0FBRSxZQUFBLEdBQWUsQ0FBakIsQ0FBQSxJQUF5QixDQUFFLEdBQUssQ0FBQSxZQUFBLENBQUwsS0FBdUIsSUFBekIsQ0FBL0IsR0FBQTtBQUFuQixNQUFBLFlBQUEsSUFBZ0IsQ0FBQSxDQUFoQixDQUFtQjtJQUFBLENBSm5CO0FBS0EsSUFBQSxJQUFpRCxZQUFBLEdBQWUsR0FBRyxDQUFDLE1BQUosR0FBYSxDQUE3RTtBQUFBLE1BQUEsR0FBQSxHQUFnQixHQUFHLENBQUMsS0FBSixDQUFVLENBQVYsRUFBYSxZQUFBLEdBQWUsQ0FBNUIsQ0FBaEIsQ0FBQTtLQUxBO0FBQUEsSUFNQSxHQUFBLEdBQWdCLE1BQU0sQ0FBQyxNQUFQLENBQWMsQ0FBRSxHQUFGLEVBQU8sSUFBQyxDQUFBLFdBQVIsQ0FBZCxFQUFzQyxHQUFHLENBQUMsTUFBSixHQUFhLENBQW5ELENBTmhCLENBQUE7QUFPQSxXQUFPO0FBQUEsTUFBRSxLQUFBLEdBQUY7QUFBQSxNQUFPLEtBQUEsR0FBUDtLQUFQLENBUm9CO0VBQUEsQ0E3SXRCLENBQUE7QUFBQSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsiXG5cblxuIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4jIG5qc191dGlsICAgICAgICAgICAgICAgICAgPSByZXF1aXJlICd1dGlsJ1xuIyBuanNfcGF0aCAgICAgICAgICAgICAgICAgID0gcmVxdWlyZSAncGF0aCdcbiMgbmpzX2ZzICAgICAgICAgICAgICAgICAgICA9IHJlcXVpcmUgJ2ZzJ1xuIy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG5DTkQgICAgICAgICAgICAgICAgICAgICAgID0gcmVxdWlyZSAnY25kJ1xucnByICAgICAgICAgICAgICAgICAgICAgICA9IENORC5ycHJcbmJhZGdlICAgICAgICAgICAgICAgICAgICAgPSAndGVzdC1ob2xsZXJpdGgnXG5sb2cgICAgICAgICAgICAgICAgICAgICAgID0gQ05ELmdldF9sb2dnZXIgJ3BsYWluJywgICAgIGJhZGdlXG5kZWJ1ZyAgICAgICAgICAgICAgICAgICAgID0gQ05ELmdldF9sb2dnZXIgJ2RlYnVnJywgICAgIGJhZGdlXG53YXJuICAgICAgICAgICAgICAgICAgICAgID0gQ05ELmdldF9sb2dnZXIgJ3dhcm4nLCAgICAgIGJhZGdlXG5oZWxwICAgICAgICAgICAgICAgICAgICAgID0gQ05ELmdldF9sb2dnZXIgJ2hlbHAnLCAgICAgIGJhZGdlXG51cmdlICAgICAgICAgICAgICAgICAgICAgID0gQ05ELmdldF9sb2dnZXIgJ3VyZ2UnLCAgICAgIGJhZGdlXG5lY2hvICAgICAgICAgICAgICAgICAgICAgID0gQ05ELmVjaG8uYmluZCBDTkRcbiMuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuc3VzcGVuZCAgICAgICAgICAgICAgICAgICA9IHJlcXVpcmUgJ2NvZmZlZW5vZGUtc3VzcGVuZCdcbnN0ZXAgICAgICAgICAgICAgICAgICAgICAgPSBzdXNwZW5kLnN0ZXBcbiMuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuQllURVdJU0UgICAgICAgICAgICAgICAgICA9IHJlcXVpcmUgJ2J5dGV3aXNlJ1xuX2J0d3NfZW5jb2RlICAgICAgICAgICAgICA9IEJZVEVXSVNFLmVuY29kZS5iaW5kIEJZVEVXSVNFXG5fYnR3c19kZWNvZGUgICAgICAgICAgICAgID0gQllURVdJU0UuZGVjb2RlLmJpbmQgQllURVdJU0VcbiMuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuRCAgICAgICAgICAgICAgICAgICAgICAgICA9IHJlcXVpcmUgJ3BpcGVkcmVhbXMyJ1xuJCAgICAgICAgICAgICAgICAgICAgICAgICA9IEQucmVtaXQuYmluZCBEXG5fbmV3X2xldmVsX2RiICAgICAgICAgICAgID0gcmVxdWlyZSAnbGV2ZWwnXG5AX3plcm8gICAgICAgICAgICAgICAgICAgID0gX2J0d3NfZW5jb2RlIHRydWVcbkBfbGFzdF9vY3RldCAgICAgICAgICAgICAgPSBuZXcgQnVmZmVyIFsgMHhmZiwgXVxuXG5cbiMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQG5ld19kYiA9ICggcm91dGUgKSAtPlxuICAjLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gIGxldmVsX3NldHRpbmdzID1cbiAgICAna2V5RW5jb2RpbmcnOiAgICAgICAgICAnYmluYXJ5J1xuICAgICd2YWx1ZUVuY29kaW5nJzogICAgICAgICdiaW5hcnknXG4gICAgJ2NyZWF0ZUlmTWlzc2luZyc6ICAgICAgdHJ1ZVxuICAgICdlcnJvcklmRXhpc3RzJzogICAgICAgIGZhbHNlXG4gICAgJ2NvbXByZXNzaW9uJzogICAgICAgICAgeWVzXG4gICAgJ3N5bmMnOiAgICAgICAgICAgICAgICAgbm9cbiAgIy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICBzdWJzdHJhdGUgICAgICAgICAgID0gX25ld19sZXZlbF9kYiByb3V0ZSwgbGV2ZWxfc2V0dGluZ3NcbiAgIy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICBSID1cbiAgICAnfmlzYSc6ICAgICAgICAgICAnSE9MTEVSSVRIL2RiJ1xuICAgICclc2VsZic6ICAgICAgICAgIHN1YnN0cmF0ZVxuICAjLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gIHJldHVybiBSXG5cbiMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQGNsZWFyID0gKCBkYiwgaGFuZGxlciApIC0+XG4gICMjIyBUQUlOVCBjb25zaWRlciB0byBzaW1wbHkgcmVtb3ZlIGZpbGVzIGFzIGl0IGlzIGZhc3RlciBhbmQgbGVhZHMgdG8gbW9yZSByZXByb2R1Y2libGUgcmVzdWx0cyBhc1xuICB3ZSB0aGVuIGFsd2F5cyByZWFsbHkgc3RhcnQgZnJvbSBzY3JhdGNoICMjI1xuICBzdWJzdHJhdGUgPSBkYlsgJyVzZWxmJyBdXG4gIGlucHV0ICAgICA9IHN1YnN0cmF0ZS5jcmVhdGVLZXlTdHJlYW0oKVxuICBjb3VudCAgICAgPSAwXG4gIGlucHV0XG4gICAgLnBpcGUgJCAoIGtleSwgc2VuZCwgZW5kICkgPT5cbiAgICAgIHN0ZXAgKCByZXN1bWUgKSA9PlxuICAgICAgICBpZiBrZXk/XG4gICAgICAgICAgY291bnQgKz0gKzFcbiAgICAgICAgICB5aWVsZCBzdWJzdHJhdGUuZGVsIGtleSwgcmVzdW1lXG4gICAgICAgIGlmIGVuZD9cbiAgICAgICAgICBoZWxwIFwiZGVsZXRlZCAje2NvdW50fSBlbnRyaWVzXCJcbiAgICAgICAgICBoYW5kbGVyIG51bGwgaWYgaGFuZGxlcj9cblxuXG4jPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiMgQ09ERUNcbiMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQF9lbmNvZGUgPSAoIGRiLCBrZXkgKSAtPiBfYnR3c19lbmNvZGUga2V5XG5AX2RlY29kZSA9ICggZGIsIGtleSApIC0+IF9idHdzX2RlY29kZSBrZXlcblxuIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AX3Jwcl9vZl9rZXkgPSAoIGRiLCBrZXkgKSAtPlxuICBpZiAoIEBfdHlwZV9mcm9tX2tleSBkYiwga2V5ICkgaXMgJ2xpc3QnXG4gICAgWyBwaHJhc2V0eXBlLCBmaXJzdCwgc2Vjb25kLCBpZHgsIF0gPSBrZXlcbiAgICBpZHhfcnByID0gaWYgaWR4PyB0aGVuIHJwciBpZHggZWxzZSAnJ1xuICAgICMjIyBUQUlOVCBzaG91bGQgZXNjYXBlIG1ldGFjaHJzIGB8YCwgJzonICMjI1xuICAgICMjIyBUQUlOVCBzaG91bGQgdXNlIGBycHJgIG9uIHBhcnRzIG9mIHNwZWVjaCAoZS5nLiBvYmplY3QgdmFsdWUgY291bGQgYmUgYSBudW1iZXIgZXRjLikgIyMjXG4gICAgcmV0dXJuIFwiI3twaHJhc2V0eXBlfXwje2ZpcnN0LmpvaW4gJzonfXwje3NlY29uZC5qb2luICc6J318I3tpZHhfcnByfVwiXG4gIHJldHVybiBcIiN7cnByIGtleX1cIlxuXG4jPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiMgUkVBRElOR1xuIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AcmVhZCA9ICggZGIsIHByZWZpeCA9IG51bGwgKSAtPlxuICByZXR1cm4gZGJbICclc2VsZicgXS5jcmVhdGVLZXlTdHJlYW0oKSB1bmxlc3MgcHJlZml4P1xuICByZXR1cm4gZGJbICclc2VsZicgXS5jcmVhdGVLZXlTdHJlYW0gQF9xdWVyeV9mcm9tX3ByZWZpeFxuXG4jLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkByZWFkX3N1YiA9ICggZGIsIHNldHRpbmdzLCByZWFkICkgLT5cbiAgc3dpdGNoIGFyaXR5ID0gYXJndW1lbnRzLmxlbmd0aFxuICAgIHdoZW4gMlxuICAgICAgcmVhZCAgICAgID0gc2V0dGluZ3NcbiAgICAgIHNldHRpbmdzICA9IG51bGxcbiAgICB3aGVuIDNcbiAgICAgIG51bGxcbiAgICBlbHNlXG4gICAgICB0aHJvdyBuZXcgRXJyb3IgXCJleHBlY3RlZCAyIG9yIDMgYXJndW1lbnRzLCBnb3QgI3thcml0eX1cIlxuICAjLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gIGluZGV4ZWQgICAgICAgICAgID0gc2V0dGluZ3M/WyAnaW5kZXhlZCcgXSA/IG5vXG4gIGluc2VydF9pbmRleCAgICAgID0gaWYgaW5kZXhlZCB0aGVuIEQubmV3X2luZGV4ZXIoKSBlbHNlICggeCApIC0+IHhcbiAgb3Blbl9zdHJlYW1fY291bnQgPSAwXG4gICMuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgcmV0dXJuICQgKCBvdXRlcl9kYXRhLCBvdXRlcl9zZW5kLCBvdXRlcl9lbmQgKSA9PlxuICAgICMuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgaWYgb3V0ZXJfZGF0YT9cbiAgICAgIG9wZW5fc3RyZWFtX2NvdW50ICArPSArMVxuICAgICAgc3ViX2lucHV0ID0gcmVhZCBvdXRlcl9kYXRhXG4gICAgICAgIC5waXBlIGRvID0+XG4gICAgICAgICAgYnVmZmVyID0gW11cbiAgICAgICAgICByZXR1cm4gJCAoIGlubmVyX2RhdGEsIF8sIGlubmVyX2VuZCApID0+XG4gICAgICAgICAgICBidWZmZXIucHVzaCBpbm5lcl9kYXRhIGlmIGlubmVyX2RhdGE/XG4gICAgICAgICAgICBpZiBpbm5lcl9lbmQ/XG4gICAgICAgICAgICAgIG91dGVyX3NlbmQgaW5zZXJ0X2luZGV4IGJ1ZmZlclxuICAgICAgICAgICAgICBvcGVuX3N0cmVhbV9jb3VudCArPSAtMVxuICAgICMuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gICAgaWYgb3V0ZXJfZW5kP1xuICAgICAgcmVwZWF0X2ltbWVkaWF0ZWx5IC0+XG4gICAgICAgIHJldHVybiB0cnVlIHVubGVzcyBvcGVuX3N0cmVhbV9jb3VudCBpcyAwXG4gICAgICAgIG91dGVyX2VuZCgpXG4gICAgICAgIHJldHVybiBmYWxzZVxuXG5cbiM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuIyBLRVkgQU5EIFBSRUZJWEVTXG4jLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBuZXdfa2V5ID0gKCBkYiwgcGhyYXNldHlwZSwga2V5XzAsIHZhbHVlXzAsIGtleV8xLCB2YWx1ZV8xLCBpZHggKSAtPlxuICB0aHJvdyBuZXcgRXJyb3IgXCJpbGxlZ2FsIHBocmFzZXR5cGU6ICN7cnByIHBocmFzZXR5cGV9XCIgdW5sZXNzIHBocmFzZXR5cGUgaW4gWyAnc28nLCAnb3MnLCBdXG4gIHJldHVybiBbIHBocmFzZXR5cGUsIFsga2V5XzAsIHZhbHVlXzAsIF0sIFsga2V5XzEsIHZhbHVlXzEsIF0sICggaWR4ID8gbnVsbCApLCBdXG5cbiMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQG5ld19zb19rZXkgPSAoIGRiLCBQLi4uICkgLT4gQG5ld19rZXkgZGIsICdzbycsIFAuLi5cbkBuZXdfb3Nfa2V5ID0gKCBkYiwgUC4uLiApIC0+IEBuZXdfa2V5IGRiLCAnb3MnLCBQLi4uXG5cbiMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQG5ld19rZXlzID0gKCBkYiwgcGhyYXNldHlwZSwga2V5XzAsIHZhbHVlXzAsIGtleV8xLCB2YWx1ZV8xLCBpZHggKSAtPlxuICBvdGhlcl9waHJhc2V0eXBlICA9IGlmIHBocmFzZXR5cGUgaXMgJ3NvJyB0aGVuICdvcycgZWxzZSAnc28nXG4gIHJldHVybiBbXG4gICAgKCBAbmV3X2tleSBkYiwgICAgICAgcGhyYXNldHlwZSwga2V5XzAsIHZhbHVlXzAsIGtleV8xLCB2YWx1ZV8xLCBpZHggKSxcbiAgICAoIEBuZXdfa2V5IGRiLCBvdGhlcl9waHJhc2V0eXBlLCBrZXlfMSwgdmFsdWVfMSwga2V5XzAsIHZhbHVlXzAsIGlkeCApLCBdXG5cbiMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQG5ld19wcmVmaXggPSAoIGRiLCBwaHJhc2V0eXBlLCBlbGVtZW50cy4uLiApIC0+IHRocm93IG5ldyBFcnJvciBcInh4eHh4eHh4eHhcIlxuXG4jLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBfcXVlcnlfZnJvbV9wcmVmaXggPSAoIGRiLCBwcmVmaXggKSAtPlxuICBndGUgICAgICAgICAgID0gaWYgKCBCdWZmZXIuaXNCdWZmZXIgcHJlZml4ICkgdGhlbiBwcmVmaXggZWxzZSBAX2VuY29kZSBkYiwgcHJlZml4XG4gICMjIyBgQllURVdJU0VgIGVuY29kZXMgbGlzdHMgd2l0aCB6ZXJvZXMgYXQgdGhlIGVuZDsgd2Ugc2tpcCB0aG9zZSB6ZXJvZXMgdG8gYXJyaXZlIGF0IGEgbWluaW1hbCBwcmVmaXggdG9cbiAgd2hpY2ggYSBgMHhmZmAgYnl0ZSBjYW4gYmUgbWVhbmluZ2Z1bGx5IGFwcGVuZGVkOiAjIyNcbiAgbGFzdF9ndGVfaWR4ICA9IGd0ZS5sZW5ndGggLSAxXG4gIGxhc3RfZ3RlX2lkeCArPSAtMSB3aGlsZSAoIGxhc3RfZ3RlX2lkeCA+IDAgKSBhbmQgKCBndGVbIGxhc3RfZ3RlX2lkeCBdIGlzIDB4MDAgKVxuICBndGUgICAgICAgICAgID0gZ3RlLnNsaWNlIDAsIGxhc3RfZ3RlX2lkeCArIDEgaWYgbGFzdF9ndGVfaWR4IDwgZ3RlLmxlbmd0aCAtIDFcbiAgbHRlICAgICAgICAgICA9IEJ1ZmZlci5jb25jYXQgWyBndGUsIEBfbGFzdF9vY3RldCwgXSwgZ3RlLmxlbmd0aCArIDFcbiAgcmV0dXJuIHsgZ3RlLCBsdGUsIH1cblxuXG5cblxuXG5cbiJdfQ==