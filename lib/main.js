(function() {
  var $, BYTEWISE, CND, D, _btws_decode, _btws_encode, _new_level_db, badge, debug, echo, help, leveldown, log, rpr, step, suspend, urge, warn, whisper,
    slice = [].slice;

  CND = require('cnd');

  rpr = CND.rpr;

  badge = 'test-hollerith';

  log = CND.get_logger('plain', badge);

  debug = CND.get_logger('debug', badge);

  warn = CND.get_logger('warn', badge);

  help = CND.get_logger('help', badge);

  urge = CND.get_logger('urge', badge);

  whisper = CND.get_logger('whisper', badge);

  echo = CND.echo.bind(CND);

  suspend = require('coffeenode-suspend');

  step = suspend.step;

  BYTEWISE = require('bytewise');

  _btws_encode = BYTEWISE.encode.bind(BYTEWISE);

  _btws_decode = BYTEWISE.decode.bind(BYTEWISE);

  D = require('pipedreams2');

  $ = D.remit.bind(D);

  _new_level_db = require('level');

  this._zero = _btws_encode(true);

  this._last_octet = new Buffer([0xff]);

  leveldown = require('level/node_modules/leveldown');

  suspend = require('coffeenode-suspend');

  step = suspend.step;

  this.new_db = function(route) {
    var R, level_settings, substrate;
    level_settings = {
      'keyEncoding': 'binary',
      'valueEncoding': 'binary',
      'createIfMissing': true,
      'errorIfExists': false,
      'compression': true,
      'sync': false
    };
    substrate = _new_level_db(route, level_settings);
    R = {
      '~isa': 'HOLLERITH/db',
      '%self': substrate
    };
    return R;
  };

  this.clear = function(db, handler) {
    return step((function(_this) {
      return function*(resume) {
        var route;
        route = db['%self']['location'];
        (yield db['%self'].close(resume));
        (yield leveldown.destroy(route, resume));
        (yield db['%self'].open(resume));
        help("erased and re-opened LevelDB at " + route);
        return handler(null);
      };
    })(this));
  };

  this._encode = function(db, key) {
    return _btws_encode(key);
  };

  this._decode = function(db, key) {
    return _btws_decode(key);
  };

  this._rpr_of_key = function(db, key) {
    var idx, idx_rpr, k0, k1, phrasetype, v0, v1;
    if ((this._type_from_key(db, key)) === 'list') {
      phrasetype = key[0], k0 = key[1], v0 = key[2], k1 = key[3], v1 = key[4], idx = key[5];
      idx_rpr = idx != null ? rpr(idx) : '';

      /* TAINT should escape metachrs `|`, ':' */

      /* TAINT should use `rpr` on parts of speech (e.g. object value could be a number etc.) */
      return phrasetype + "|" + k0 + ":" + v0 + "|" + k1 + ":" + v1 + "|" + idx_rpr;
    }
    return "" + (rpr(key));
  };

  this._type_from_key = function(db, key) {
    var first, idx, phrasetype, second;
    if (Array.isArray(key)) {
      if (key.length !== 6) {
        throw new Error("illegal key: " + (rpr(key)));
      }
      phrasetype = key[0], first = key[1], second = key[2], idx = key[3];
      if (phrasetype !== 'so' && phrasetype !== 'os') {
        throw new Error("illegal phrasetype: " + (rpr(key)));
      }
      return 'list';
    }
    return 'other';
  };

  this.$write = function(db, buffer_size) {
    var _send, batch_count, buffer, flush, has_ended, substrate;
    if (buffer_size == null) {
      buffer_size = 1000;
    }

    /* Expects a Hollerith DB object and an optional buffer size; returns a pipe transformer that does all of
    the following:
    
    * It expects an SO key for which it will generate a corresponding OS key.
    * A corresponding OS key is formulated except when the SO key's object value is a JS object / a POD (since
      in that case, the value serialization is jolly useless as an index).
    * It sends on both the SO and the OS key downstream for optional further processing.
    * It forms a proper `node-level`-compatible batch record for each key and collect all records
      in a buffer.
    * Whenever the buffer has outgrown the given buffer size, the buffer will be written into the DB using
      `levelup`'s `batch` command.
    * When the last pending batch has been written into the DB, the `end` event is called on the stream
      and may be detected downstream.
     */
    if (!(buffer_size > 0)) {
      throw new Error("buffer size must be positive integer, got " + (rpr(buffer_size)));
    }
    buffer = [];
    substrate = db['%self'];
    batch_count = 0;
    has_ended = false;
    _send = null;
    flush = (function(_this) {
      return function() {
        if (buffer.length > 0) {
          batch_count += +1;
          substrate.batch(buffer, function(error) {
            if (error != null) {
              throw error;
            }
            batch_count += -1;
            if (has_ended && batch_count < 1) {
              return _send.end();
            }
          });
          return buffer = [];
        } else {
          return _send.end();
        }
      };
    })(this);
    return $((function(_this) {
      return function(so_key, send, end) {
        var os_key;
        _send = send;
        if (so_key != null) {
          buffer.push({
            type: 'put',
            key: _this._encode(db, so_key),
            value: _this._zero
          });

          /* TAINT must validate this type check still works as intended */
          if (!CND.isa_pod(so_key[2][1])) {
            os_key = _this._new_os_key_from_so_key(db, so_key);
            buffer.push({
              type: 'put',
              key: _this._encode(db, os_key),
              value: _this._zero
            });
          }
          if (buffer.length >= buffer_size) {
            flush();
          }
          send(so_key);
          send(os_key);
        }
        if (end != null) {
          has_ended = true;
          return flush();
        }
      };
    })(this));
  };

  this.read = function(db, prefix) {
    if (prefix == null) {
      prefix = null;
    }
    if (prefix == null) {
      return db['%self'].createKeyStream();
    }
    return db['%self'].createKeyStream(this._query_from_prefix);
  };

  this.read_sub = function(db, settings, read) {
    var arity, indexed, insert_index, open_stream_count, ref;
    switch (arity = arguments.length) {
      case 2:
        read = settings;
        settings = null;
        break;
      case 3:
        null;
        break;
      default:
        throw new Error("expected 2 or 3 arguments, got " + arity);
    }
    indexed = (ref = settings != null ? settings['indexed'] : void 0) != null ? ref : false;
    insert_index = indexed ? D.new_indexer() : function(x) {
      return x;
    };
    open_stream_count = 0;
    return $((function(_this) {
      return function(outer_data, outer_send, outer_end) {
        var sub_input;
        if (outer_data != null) {
          open_stream_count += +1;
          sub_input = read(outer_data).pipe((function() {
            var buffer;
            buffer = [];
            return $(function(inner_data, _, inner_end) {
              if (inner_data != null) {
                buffer.push(inner_data);
              }
              if (inner_end != null) {
                outer_send(insert_index(buffer));
                return open_stream_count += -1;
              }
            });
          })());
        }
        if (outer_end != null) {
          return repeat_immediately(function() {
            if (open_stream_count !== 0) {
              return true;
            }
            outer_end();
            return false;
          });
        }
      };
    })(this));
  };


  /* NB Argument ordering for these function is always subject before object, regardless of the phrasetype
  and the ordering in the resulting key.
   */

  this.new_key = function(db, phrasetype, sk, sv, ok, ov, idx) {
    var ref;
    if (phrasetype !== 'so' && phrasetype !== 'os') {
      throw new Error("illegal phrasetype: " + (rpr(phrasetype)));
    }
    if (phrasetype === 'os') {
      ref = [ok, ov, sk, sv], sk = ref[0], sv = ref[1], ok = ref[2], ov = ref[3];
    }
    return [phrasetype, sk, sv, ok, ov, idx != null ? idx : 0];
  };

  this.new_so_key = function() {
    var P, db;
    db = arguments[0], P = 2 <= arguments.length ? slice.call(arguments, 1) : [];
    return this.new_key.apply(this, [db, 'so'].concat(slice.call(P)));
  };

  this.new_os_key = function() {
    var P, db;
    db = arguments[0], P = 2 <= arguments.length ? slice.call(arguments, 1) : [];
    return this.new_key.apply(this, [db, 'os'].concat(slice.call(P)));
  };

  this._new_os_key_from_so_key = function(db, so_key) {
    var idx, ok, ov, phrasetype, ref, sk, sv;
    ref = this.normalize_key(db, so_key), phrasetype = ref[0], sk = ref[1], sv = ref[2], ok = ref[3], ov = ref[4], idx = ref[5];
    if (phrasetype !== 'so') {
      throw new Error("expected phrasetype 'so', got " + (rpr(phrasetype)));
    }
    return ['os', ok, ov, sk, sv, idx];
  };

  this.new_keys = function(db, phrasetype, sk, sv, ok, ov, idx) {
    var other_phrasetype;
    other_phrasetype = phrasetype === 'so' ? 'os' : 'so';
    return [this.new_key(db, phrasetype, sk, sv, ok, ov, idx), this.new_key(db, other_phrasetype, sk, sv, ok, ov, idx)];
  };

  this.normalize_key = function(db, key) {
    var idx, ok, ov, phrasetype, ref, sk, sv;
    phrasetype = key[0], sk = key[1], sv = key[2], ok = key[3], ov = key[4], idx = key[5];
    if (phrasetype === 'os') {
      ref = [ok, ov, sk, sv], sk = ref[0], sv = ref[1], ok = ref[2], ov = ref[3];
    }
    return [phrasetype, sk, sv, ok, ov, idx != null ? idx : 0];
  };

  this.key_from_url = function(db, url) {

    /* TAIN does not unescape as yet */

    /* TAIN does not cast values as yet */

    /* TAINT does not support multiple indexes as yet */
    var first, idx, ok, ov, phrasetype, ref, ref1, ref2, ref3, second, sk, sv;
    ref = url.split('|'), phrasetype = ref[0], first = ref[1], second = ref[2], idx = ref[3];
    if (!((phrasetype != null) && phrasetype.length > 0 && (phrasetype === 'so' || phrasetype === 'os'))) {
      throw new Error("illegal URL key " + (rpr(url)));
    }
    if (!((first != null) && first.length > 0 && (second != null) && second.length > 0)) {
      throw new Error("illegal URL key " + (rpr(url)));
    }
    idx = (idx != null) && idx.length > 0 ? parseInt(idx, 10) : 0;
    ref1 = first.split(':'), sk = ref1[0], sv = ref1[1];
    ref2 = second.split(':'), ok = ref2[0], ov = ref2[1];
    if (!((sk != null) && sk.length > 0 && (ok != null) && ok.length > 0)) {
      throw new Error("illegal URL key " + (rpr(url)));
    }
    if (phrasetype === 'os') {
      ref3 = [ok, ov, sk, sv], sk = ref3[0], sv = ref3[1], ok = ref3[2], ov = ref3[3];
    }
    return [phrasetype, sk, sv, ok, ov, idx];
  };

  this.new_query = function(db, hint) {
    var type;
    switch (type = CND.type_of(hint)) {
      case 'text':
        return this._query_from_partial_url(db, hint);
      case 'list':
        return this._query_from_partial_key(db, hint);
    }
    throw new Error("expected a partial URL (a text) or key (a list), got a " + type);
  };

  this._query_from_partial_url = function(db, purl) {
    var k0, phrasetype, pkey, ref, ref1, tail, v0;
    ref = purl.split('|', 2), phrasetype = ref[0], tail = ref[1];
    ref1 = tail != null ? tail.split(':', 2) : [null, null], k0 = ref1[0], v0 = ref1[1];
    pkey = [phrasetype];
    if (k0 != null) {
      pkey.push(k0);
    }
    if (v0 != null) {
      pkey.push(v0);
    }
    return this._query_from_partial_key(db, pkey);
  };

  this._query_from_partial_key = function(db, pkey) {
    var base, element, gte, i, len, length, lte;
    for (i = 0, len = pkey.length; i < len; i++) {
      element = pkey[i];
      if (!CND.isa_text(element)) {
        throw new Error("illegal prefix-key: " + (rpr(pkey)));
      }
    }
    base = this._encode(db, pkey);
    length = base.length;
    if (base[length - 1] !== 0x00) {
      throw new Error("illegal prefix-key: " + (rpr(pkey)));
    }
    if (base[length - 2] !== 0x00) {
      throw new Error("illegal prefix-key: " + (rpr(pkey)));
    }
    base[length - 2] = 0xff;
    gte = base.slice(0, length - 2);
    lte = base.slice(0, length - 1);
    return {
      gte: gte,
      lte: lte
    };
  };

}).call(this);

//# sourceMappingURL=data:application/json;base64,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LEtBQUE7QUFBQSxJQUVBLElBQUEsR0FBc0IsSUFBQyxDQUFBLE9BQUQsQ0FBUyxFQUFULEVBQWEsSUFBYixDQUZ0QixDQUFBO0FBQUEsSUFHQSxNQUFBLEdBQXNCLElBQUksQ0FBQyxNQUgzQixDQUFBO0FBSUEsSUFBQSxJQUF5RCxJQUFNLENBQUEsTUFBQSxHQUFTLENBQVQsQ0FBTixLQUFzQixJQUEvRTtBQUFBLFlBQVUsSUFBQSxLQUFBLENBQU0sc0JBQUEsR0FBc0IsQ0FBQyxHQUFBLENBQUksSUFBSixDQUFELENBQTVCLENBQVYsQ0FBQTtLQUpBO0FBS0EsSUFBQSxJQUF5RCxJQUFNLENBQUEsTUFBQSxHQUFTLENBQVQsQ0FBTixLQUFzQixJQUEvRTtBQUFBLFlBQVUsSUFBQSxLQUFBLENBQU0sc0JBQUEsR0FBc0IsQ0FBQyxHQUFBLENBQUksSUFBSixDQUFELENBQTVCLENBQVYsQ0FBQTtLQUxBO0FBQUEsSUFNQSxJQUFNLENBQUEsTUFBQSxHQUFTLENBQVQsQ0FBTixHQUFzQixJQU50QixDQUFBO0FBQUEsSUFPQSxHQUFBLEdBQXNCLElBQUksQ0FBQyxLQUFMLENBQVcsQ0FBWCxFQUFjLE1BQUEsR0FBUyxDQUF2QixDQVB0QixDQUFBO0FBQUEsSUFRQSxHQUFBLEdBQXNCLElBQUksQ0FBQyxLQUFMLENBQVcsQ0FBWCxFQUFjLE1BQUEsR0FBUyxDQUF2QixDQVJ0QixDQUFBO0FBU0EsV0FBTztBQUFBLE1BQUUsS0FBQSxHQUFGO0FBQUEsTUFBTyxLQUFBLEdBQVA7S0FBUCxDQVZ5QjtFQUFBLENBcFEzQixDQUFBO0FBQUEiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbIlxuXG5cbiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuIyBuanNfdXRpbCAgICAgICAgICAgICAgICAgID0gcmVxdWlyZSAndXRpbCdcbiMgbmpzX3BhdGggICAgICAgICAgICAgICAgICA9IHJlcXVpcmUgJ3BhdGgnXG4jIG5qc19mcyAgICAgICAgICAgICAgICAgICAgPSByZXF1aXJlICdmcydcbiMuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuQ05EICAgICAgICAgICAgICAgICAgICAgICA9IHJlcXVpcmUgJ2NuZCdcbnJwciAgICAgICAgICAgICAgICAgICAgICAgPSBDTkQucnByXG5iYWRnZSAgICAgICAgICAgICAgICAgICAgID0gJ3Rlc3QtaG9sbGVyaXRoJ1xubG9nICAgICAgICAgICAgICAgICAgICAgICA9IENORC5nZXRfbG9nZ2VyICdwbGFpbicsICAgICBiYWRnZVxuZGVidWcgICAgICAgICAgICAgICAgICAgICA9IENORC5nZXRfbG9nZ2VyICdkZWJ1ZycsICAgICBiYWRnZVxud2FybiAgICAgICAgICAgICAgICAgICAgICA9IENORC5nZXRfbG9nZ2VyICd3YXJuJywgICAgICBiYWRnZVxuaGVscCAgICAgICAgICAgICAgICAgICAgICA9IENORC5nZXRfbG9nZ2VyICdoZWxwJywgICAgICBiYWRnZVxudXJnZSAgICAgICAgICAgICAgICAgICAgICA9IENORC5nZXRfbG9nZ2VyICd1cmdlJywgICAgICBiYWRnZVxud2hpc3BlciAgICAgICAgICAgICAgICAgICA9IENORC5nZXRfbG9nZ2VyICd3aGlzcGVyJywgICBiYWRnZVxuZWNobyAgICAgICAgICAgICAgICAgICAgICA9IENORC5lY2hvLmJpbmQgQ05EXG4jLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbnN1c3BlbmQgICAgICAgICAgICAgICAgICAgPSByZXF1aXJlICdjb2ZmZWVub2RlLXN1c3BlbmQnXG5zdGVwICAgICAgICAgICAgICAgICAgICAgID0gc3VzcGVuZC5zdGVwXG4jLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbkJZVEVXSVNFICAgICAgICAgICAgICAgICAgPSByZXF1aXJlICdieXRld2lzZSdcbl9idHdzX2VuY29kZSAgICAgICAgICAgICAgPSBCWVRFV0lTRS5lbmNvZGUuYmluZCBCWVRFV0lTRVxuX2J0d3NfZGVjb2RlICAgICAgICAgICAgICA9IEJZVEVXSVNFLmRlY29kZS5iaW5kIEJZVEVXSVNFXG4jLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbkQgICAgICAgICAgICAgICAgICAgICAgICAgPSByZXF1aXJlICdwaXBlZHJlYW1zMidcbiQgICAgICAgICAgICAgICAgICAgICAgICAgPSBELnJlbWl0LmJpbmQgRFxuX25ld19sZXZlbF9kYiAgICAgICAgICAgICA9IHJlcXVpcmUgJ2xldmVsJ1xuQF96ZXJvICAgICAgICAgICAgICAgICAgICA9IF9idHdzX2VuY29kZSB0cnVlXG5AX2xhc3Rfb2N0ZXQgICAgICAgICAgICAgID0gbmV3IEJ1ZmZlciBbIDB4ZmYsIF1cbmxldmVsZG93biAgICAgICAgICAgICAgICAgPSByZXF1aXJlICdsZXZlbC9ub2RlX21vZHVsZXMvbGV2ZWxkb3duJ1xuIy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG5zdXNwZW5kICAgICAgICAgICAgICAgICAgID0gcmVxdWlyZSAnY29mZmVlbm9kZS1zdXNwZW5kJ1xuc3RlcCAgICAgICAgICAgICAgICAgICAgICA9IHN1c3BlbmQuc3RlcFxuXG5cblxuIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AbmV3X2RiID0gKCByb3V0ZSApIC0+XG4gICMuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgbGV2ZWxfc2V0dGluZ3MgPVxuICAgICdrZXlFbmNvZGluZyc6ICAgICAgICAgICdiaW5hcnknXG4gICAgJ3ZhbHVlRW5jb2RpbmcnOiAgICAgICAgJ2JpbmFyeSdcbiAgICAnY3JlYXRlSWZNaXNzaW5nJzogICAgICB0cnVlXG4gICAgJ2Vycm9ySWZFeGlzdHMnOiAgICAgICAgZmFsc2VcbiAgICAnY29tcHJlc3Npb24nOiAgICAgICAgICB5ZXNcbiAgICAnc3luYyc6ICAgICAgICAgICAgICAgICBub1xuICAjLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gIHN1YnN0cmF0ZSAgICAgICAgICAgPSBfbmV3X2xldmVsX2RiIHJvdXRlLCBsZXZlbF9zZXR0aW5nc1xuICAjLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gIFIgPVxuICAgICd+aXNhJzogICAgICAgICAgICdIT0xMRVJJVEgvZGInXG4gICAgJyVzZWxmJzogICAgICAgICAgc3Vic3RyYXRlXG4gICMuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgcmV0dXJuIFJcblxuIyAjLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiMgQF9yZW9wZW4gPSAoIGRiLCBoYW5kbGVyICkgLT5cbiMgICBzdGVwICggcmVzdW1lICkgPT5cbiMgICAgIHJvdXRlID0gZGJbICclc2VsZicgXVsgJ2xvY2F0aW9uJyBdXG4jICAgICB5aWVsZCBkYlsgJyVzZWxmJyBdLmNsb3NlIHJlc3VtZVxuIyAgICAgeWllbGQgZGJbICclc2VsZicgXS5vcGVuIHJlc3VtZVxuIyAgICAgd2hpc3BlciBcInJlLW9wZW5lZCBMZXZlbERCIGF0ICN7cm91dGV9XCJcbiMgICAgIGhhbmRsZXIgbnVsbFxuXG4jLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBjbGVhciA9ICggZGIsIGhhbmRsZXIgKSAtPlxuICBzdGVwICggcmVzdW1lICkgPT5cbiAgICByb3V0ZSA9IGRiWyAnJXNlbGYnIF1bICdsb2NhdGlvbicgXVxuICAgIHlpZWxkIGRiWyAnJXNlbGYnIF0uY2xvc2UgcmVzdW1lXG4gICAgeWllbGQgbGV2ZWxkb3duLmRlc3Ryb3kgcm91dGUsIHJlc3VtZVxuICAgIHlpZWxkIGRiWyAnJXNlbGYnIF0ub3BlbiByZXN1bWVcbiAgICBoZWxwIFwiZXJhc2VkIGFuZCByZS1vcGVuZWQgTGV2ZWxEQiBhdCAje3JvdXRlfVwiXG4gICAgaGFuZGxlciBudWxsXG5cblxuIz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4jIENPREVDXG4jLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBfZW5jb2RlID0gKCBkYiwga2V5ICkgLT4gX2J0d3NfZW5jb2RlIGtleVxuQF9kZWNvZGUgPSAoIGRiLCBrZXkgKSAtPiBfYnR3c19kZWNvZGUga2V5XG5cbiMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQF9ycHJfb2Zfa2V5ID0gKCBkYiwga2V5ICkgLT5cbiAgaWYgKCBAX3R5cGVfZnJvbV9rZXkgZGIsIGtleSApIGlzICdsaXN0J1xuICAgIFsgcGhyYXNldHlwZSwgazAsIHYwLCBrMSwgdjEsIGlkeCwgXSA9IGtleVxuICAgIGlkeF9ycHIgPSBpZiBpZHg/IHRoZW4gcnByIGlkeCBlbHNlICcnXG4gICAgIyMjIFRBSU5UIHNob3VsZCBlc2NhcGUgbWV0YWNocnMgYHxgLCAnOicgIyMjXG4gICAgIyMjIFRBSU5UIHNob3VsZCB1c2UgYHJwcmAgb24gcGFydHMgb2Ygc3BlZWNoIChlLmcuIG9iamVjdCB2YWx1ZSBjb3VsZCBiZSBhIG51bWJlciBldGMuKSAjIyNcbiAgICByZXR1cm4gXCIje3BocmFzZXR5cGV9fCN7azB9OiN7djB9fCN7azF9OiN7djF9fCN7aWR4X3Jwcn1cIlxuICByZXR1cm4gXCIje3JwciBrZXl9XCJcblxuIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AX3R5cGVfZnJvbV9rZXkgPSAoIGRiLCBrZXkgKSAtPlxuICBpZiBBcnJheS5pc0FycmF5IGtleVxuICAgIHRocm93IG5ldyBFcnJvciBcImlsbGVnYWwga2V5OiAje3JwciBrZXl9XCIgdW5sZXNzIGtleS5sZW5ndGggaXMgNlxuICAgIFsgcGhyYXNldHlwZSwgZmlyc3QsIHNlY29uZCwgaWR4LCBdID0ga2V5XG4gICAgdGhyb3cgbmV3IEVycm9yIFwiaWxsZWdhbCBwaHJhc2V0eXBlOiAje3JwciBrZXl9XCIgdW5sZXNzIHBocmFzZXR5cGUgaW4gWyAnc28nLCAnb3MnLCBdXG4gICAgcmV0dXJuICdsaXN0J1xuICByZXR1cm4gJ290aGVyJ1xuXG5cbiM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuIyBXUklUSU5HXG4jLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkAkd3JpdGUgPSAoIGRiLCBidWZmZXJfc2l6ZSA9IDEwMDAgKSAtPlxuICAjIyMgRXhwZWN0cyBhIEhvbGxlcml0aCBEQiBvYmplY3QgYW5kIGFuIG9wdGlvbmFsIGJ1ZmZlciBzaXplOyByZXR1cm5zIGEgcGlwZSB0cmFuc2Zvcm1lciB0aGF0IGRvZXMgYWxsIG9mXG4gIHRoZSBmb2xsb3dpbmc6XG5cbiAgKiBJdCBleHBlY3RzIGFuIFNPIGtleSBmb3Igd2hpY2ggaXQgd2lsbCBnZW5lcmF0ZSBhIGNvcnJlc3BvbmRpbmcgT1Mga2V5LlxuICAqIEEgY29ycmVzcG9uZGluZyBPUyBrZXkgaXMgZm9ybXVsYXRlZCBleGNlcHQgd2hlbiB0aGUgU08ga2V5J3Mgb2JqZWN0IHZhbHVlIGlzIGEgSlMgb2JqZWN0IC8gYSBQT0QgKHNpbmNlXG4gICAgaW4gdGhhdCBjYXNlLCB0aGUgdmFsdWUgc2VyaWFsaXphdGlvbiBpcyBqb2xseSB1c2VsZXNzIGFzIGFuIGluZGV4KS5cbiAgKiBJdCBzZW5kcyBvbiBib3RoIHRoZSBTTyBhbmQgdGhlIE9TIGtleSBkb3duc3RyZWFtIGZvciBvcHRpb25hbCBmdXJ0aGVyIHByb2Nlc3NpbmcuXG4gICogSXQgZm9ybXMgYSBwcm9wZXIgYG5vZGUtbGV2ZWxgLWNvbXBhdGlibGUgYmF0Y2ggcmVjb3JkIGZvciBlYWNoIGtleSBhbmQgY29sbGVjdCBhbGwgcmVjb3Jkc1xuICAgIGluIGEgYnVmZmVyLlxuICAqIFdoZW5ldmVyIHRoZSBidWZmZXIgaGFzIG91dGdyb3duIHRoZSBnaXZlbiBidWZmZXIgc2l6ZSwgdGhlIGJ1ZmZlciB3aWxsIGJlIHdyaXR0ZW4gaW50byB0aGUgREIgdXNpbmdcbiAgICBgbGV2ZWx1cGAncyBgYmF0Y2hgIGNvbW1hbmQuXG4gICogV2hlbiB0aGUgbGFzdCBwZW5kaW5nIGJhdGNoIGhhcyBiZWVuIHdyaXR0ZW4gaW50byB0aGUgREIsIHRoZSBgZW5kYCBldmVudCBpcyBjYWxsZWQgb24gdGhlIHN0cmVhbVxuICAgIGFuZCBtYXkgYmUgZGV0ZWN0ZWQgZG93bnN0cmVhbS5cblxuICAjIyNcbiAgIy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICB0aHJvdyBuZXcgRXJyb3IgXCJidWZmZXIgc2l6ZSBtdXN0IGJlIHBvc2l0aXZlIGludGVnZXIsIGdvdCAje3JwciBidWZmZXJfc2l6ZX1cIiB1bmxlc3MgYnVmZmVyX3NpemUgPiAwXG4gIGJ1ZmZlciAgICAgID0gW11cbiAgc3Vic3RyYXRlICAgPSBkYlsgJyVzZWxmJyBdXG4gIGJhdGNoX2NvdW50ID0gMFxuICBoYXNfZW5kZWQgICA9IG5vXG4gIF9zZW5kICAgICAgID0gbnVsbFxuICAjLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXG4gIGZsdXNoID0gPT5cbiAgICBpZiBidWZmZXIubGVuZ3RoID4gMFxuICAgICAgYmF0Y2hfY291bnQgKz0gKzFcbiAgICAgIHN1YnN0cmF0ZS5iYXRjaCBidWZmZXIsICggZXJyb3IgKSA9PlxuICAgICAgICB0aHJvdyBlcnJvciBpZiBlcnJvcj9cbiAgICAgICAgYmF0Y2hfY291bnQgKz0gLTFcbiAgICAgICAgX3NlbmQuZW5kKCkgaWYgaGFzX2VuZGVkIGFuZCBiYXRjaF9jb3VudCA8IDFcbiAgICAgIGJ1ZmZlciA9IFtdXG4gICAgZWxzZVxuICAgICAgX3NlbmQuZW5kKClcbiAgIy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICByZXR1cm4gJCAoIHNvX2tleSwgc2VuZCwgZW5kICkgPT5cbiAgICBfc2VuZCA9IHNlbmRcbiAgICBpZiBzb19rZXk/XG4gICAgICAjIGRlYnVnICfCqXJEbFlBJywgc29fa2V5XG4gICAgICBidWZmZXIucHVzaCB7IHR5cGU6ICdwdXQnLCBrZXk6ICggQF9lbmNvZGUgZGIsIHNvX2tleSApLCB2YWx1ZTogQF96ZXJvLCB9XG4gICAgICAjIyMgVEFJTlQgbXVzdCB2YWxpZGF0ZSB0aGlzIHR5cGUgY2hlY2sgc3RpbGwgd29ya3MgYXMgaW50ZW5kZWQgIyMjXG4gICAgICB1bmxlc3MgQ05ELmlzYV9wb2Qgc29fa2V5WyAyIF1bIDEgXVxuICAgICAgICBvc19rZXkgPSBAX25ld19vc19rZXlfZnJvbV9zb19rZXkgZGIsIHNvX2tleVxuICAgICAgICBidWZmZXIucHVzaCB7IHR5cGU6ICdwdXQnLCBrZXk6ICggQF9lbmNvZGUgZGIsIG9zX2tleSApLCB2YWx1ZTogQF96ZXJvLCB9XG4gICAgICBmbHVzaCgpIGlmIGJ1ZmZlci5sZW5ndGggPj0gYnVmZmVyX3NpemVcbiAgICAgIHNlbmQgc29fa2V5XG4gICAgICBzZW5kIG9zX2tleVxuICAgIGlmIGVuZD9cbiAgICAgIGhhc19lbmRlZCA9IHllc1xuICAgICAgZmx1c2goKVxuXG5cbiM9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuIyBSRUFESU5HXG4jLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkByZWFkID0gKCBkYiwgcHJlZml4ID0gbnVsbCApIC0+XG4gIHJldHVybiBkYlsgJyVzZWxmJyBdLmNyZWF0ZUtleVN0cmVhbSgpIHVubGVzcyBwcmVmaXg/XG4gIHJldHVybiBkYlsgJyVzZWxmJyBdLmNyZWF0ZUtleVN0cmVhbSBAX3F1ZXJ5X2Zyb21fcHJlZml4XG5cbiMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQHJlYWRfc3ViID0gKCBkYiwgc2V0dGluZ3MsIHJlYWQgKSAtPlxuICBzd2l0Y2ggYXJpdHkgPSBhcmd1bWVudHMubGVuZ3RoXG4gICAgd2hlbiAyXG4gICAgICByZWFkICAgICAgPSBzZXR0aW5nc1xuICAgICAgc2V0dGluZ3MgID0gbnVsbFxuICAgIHdoZW4gM1xuICAgICAgbnVsbFxuICAgIGVsc2VcbiAgICAgIHRocm93IG5ldyBFcnJvciBcImV4cGVjdGVkIDIgb3IgMyBhcmd1bWVudHMsIGdvdCAje2FyaXR5fVwiXG4gICMuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgaW5kZXhlZCAgICAgICAgICAgPSBzZXR0aW5ncz9bICdpbmRleGVkJyBdID8gbm9cbiAgaW5zZXJ0X2luZGV4ICAgICAgPSBpZiBpbmRleGVkIHRoZW4gRC5uZXdfaW5kZXhlcigpIGVsc2UgKCB4ICkgLT4geFxuICBvcGVuX3N0cmVhbV9jb3VudCA9IDBcbiAgIy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlxuICByZXR1cm4gJCAoIG91dGVyX2RhdGEsIG91dGVyX3NlbmQsIG91dGVyX2VuZCApID0+XG4gICAgIy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICBpZiBvdXRlcl9kYXRhP1xuICAgICAgb3Blbl9zdHJlYW1fY291bnQgICs9ICsxXG4gICAgICBzdWJfaW5wdXQgPSByZWFkIG91dGVyX2RhdGFcbiAgICAgICAgLnBpcGUgZG8gPT5cbiAgICAgICAgICBidWZmZXIgPSBbXVxuICAgICAgICAgIHJldHVybiAkICggaW5uZXJfZGF0YSwgXywgaW5uZXJfZW5kICkgPT5cbiAgICAgICAgICAgIGJ1ZmZlci5wdXNoIGlubmVyX2RhdGEgaWYgaW5uZXJfZGF0YT9cbiAgICAgICAgICAgIGlmIGlubmVyX2VuZD9cbiAgICAgICAgICAgICAgb3V0ZXJfc2VuZCBpbnNlcnRfaW5kZXggYnVmZmVyXG4gICAgICAgICAgICAgIG9wZW5fc3RyZWFtX2NvdW50ICs9IC0xXG4gICAgIy4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi5cbiAgICBpZiBvdXRlcl9lbmQ/XG4gICAgICByZXBlYXRfaW1tZWRpYXRlbHkgLT5cbiAgICAgICAgcmV0dXJuIHRydWUgdW5sZXNzIG9wZW5fc3RyZWFtX2NvdW50IGlzIDBcbiAgICAgICAgb3V0ZXJfZW5kKClcbiAgICAgICAgcmV0dXJuIGZhbHNlXG5cblxuIz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4jIEtFWSBBTkQgUFJFRklYRVNcbiMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuIyMjIE5CIEFyZ3VtZW50IG9yZGVyaW5nIGZvciB0aGVzZSBmdW5jdGlvbiBpcyBhbHdheXMgc3ViamVjdCBiZWZvcmUgb2JqZWN0LCByZWdhcmRsZXNzIG9mIHRoZSBwaHJhc2V0eXBlXG5hbmQgdGhlIG9yZGVyaW5nIGluIHRoZSByZXN1bHRpbmcga2V5LiAjIyNcbkBuZXdfa2V5ID0gKCBkYiwgcGhyYXNldHlwZSwgc2ssIHN2LCBvaywgb3YsIGlkeCApIC0+XG4gIHRocm93IG5ldyBFcnJvciBcImlsbGVnYWwgcGhyYXNldHlwZTogI3tycHIgcGhyYXNldHlwZX1cIiB1bmxlc3MgcGhyYXNldHlwZSBpbiBbICdzbycsICdvcycsIF1cbiAgWyBzaywgc3YsIG9rLCBvdiwgXSA9IFsgb2ssIG92LCBzaywgc3YsIF0gaWYgcGhyYXNldHlwZSBpcyAnb3MnXG4gIHJldHVybiBbIHBocmFzZXR5cGUsIHNrLCBzdiwgb2ssIG92LCAoIGlkeCA/IDAgKSwgXVxuXG4jLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBuZXdfc29fa2V5ID0gKCBkYiwgUC4uLiApIC0+IEBuZXdfa2V5IGRiLCAnc28nLCBQLi4uXG5AbmV3X29zX2tleSA9ICggZGIsIFAuLi4gKSAtPiBAbmV3X2tleSBkYiwgJ29zJywgUC4uLlxuXG4jLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBfbmV3X29zX2tleV9mcm9tX3NvX2tleSA9ICggZGIsIHNvX2tleSApIC0+XG4gIFsgcGhyYXNldHlwZSwgc2ssIHN2LCBvaywgb3YsIGlkeCwgXSA9IEBub3JtYWxpemVfa2V5IGRiLCBzb19rZXlcbiAgdGhyb3cgbmV3IEVycm9yIFwiZXhwZWN0ZWQgcGhyYXNldHlwZSAnc28nLCBnb3QgI3tycHIgcGhyYXNldHlwZX1cIiB1bmxlc3MgcGhyYXNldHlwZSBpcyAnc28nXG4gIHJldHVybiBbICdvcycsIG9rLCBvdiwgc2ssIHN2LCBpZHgsIF1cblxuIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AbmV3X2tleXMgPSAoIGRiLCBwaHJhc2V0eXBlLCBzaywgc3YsIG9rLCBvdiwgaWR4ICkgLT5cbiAgb3RoZXJfcGhyYXNldHlwZSAgPSBpZiBwaHJhc2V0eXBlIGlzICdzbycgdGhlbiAnb3MnIGVsc2UgJ3NvJ1xuICByZXR1cm4gW1xuICAgICggQG5ld19rZXkgZGIsICAgICAgIHBocmFzZXR5cGUsIHNrLCBzdiwgb2ssIG92LCBpZHggKSxcbiAgICAoIEBuZXdfa2V5IGRiLCBvdGhlcl9waHJhc2V0eXBlLCBzaywgc3YsIG9rLCBvdiwgaWR4ICksIF1cblxuIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5Abm9ybWFsaXplX2tleSA9ICggZGIsIGtleSApIC0+XG4gIFsgcGhyYXNldHlwZSwgc2ssIHN2LCBvaywgb3YsIGlkeCwgXSA9IGtleVxuICBbIHNrLCBzdiwgb2ssIG92LCBdID0gWyBvaywgb3YsIHNrLCBzdiwgXSBpZiBwaHJhc2V0eXBlIGlzICdvcydcbiAgcmV0dXJuIFsgcGhyYXNldHlwZSwgc2ssIHN2LCBvaywgb3YsICggaWR4ID8gMCApLCBdXG5cbiMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQGtleV9mcm9tX3VybCA9ICggZGIsIHVybCApIC0+XG4gICMjIyBUQUlOIGRvZXMgbm90IHVuZXNjYXBlIGFzIHlldCAjIyNcbiAgIyMjIFRBSU4gZG9lcyBub3QgY2FzdCB2YWx1ZXMgYXMgeWV0ICMjI1xuICAjIyMgVEFJTlQgZG9lcyBub3Qgc3VwcG9ydCBtdWx0aXBsZSBpbmRleGVzIGFzIHlldCAjIyNcbiAgWyBwaHJhc2V0eXBlLCBmaXJzdCwgc2Vjb25kLCBpZHgsIF0gPSB1cmwuc3BsaXQgJ3wnXG4gIHVubGVzcyBwaHJhc2V0eXBlPyBhbmQgcGhyYXNldHlwZS5sZW5ndGggPiAwIGFuZCBwaHJhc2V0eXBlIGluIFsgJ3NvJywgJ29zJywgXVxuICAgIHRocm93IG5ldyBFcnJvciBcImlsbGVnYWwgVVJMIGtleSAje3JwciB1cmx9XCJcbiAgdW5sZXNzIGZpcnN0PyBhbmQgZmlyc3QubGVuZ3RoID4gMCBhbmQgc2Vjb25kPyBhbmQgc2Vjb25kLmxlbmd0aCA+IDBcbiAgICB0aHJvdyBuZXcgRXJyb3IgXCJpbGxlZ2FsIFVSTCBrZXkgI3tycHIgdXJsfVwiXG4gIGlkeCA9IGlmICggaWR4PyBhbmQgaWR4Lmxlbmd0aCA+IDAgKSB0aGVuICggcGFyc2VJbnQgaWR4LCAxMCApIGVsc2UgMFxuICBbIHNrLCBzdiwgXSA9ICBmaXJzdC5zcGxpdCAnOidcbiAgWyBvaywgb3YsIF0gPSBzZWNvbmQuc3BsaXQgJzonXG4gIHVubGVzcyBzaz8gYW5kIHNrLmxlbmd0aCA+IDAgYW5kIG9rPyBhbmQgb2subGVuZ3RoID4gMFxuICAgIHRocm93IG5ldyBFcnJvciBcImlsbGVnYWwgVVJMIGtleSAje3JwciB1cmx9XCJcbiAgWyBzaywgc3YsIG9rLCBvdiwgXSA9IFsgb2ssIG92LCBzaywgc3YsIF0gaWYgcGhyYXNldHlwZSBpcyAnb3MnXG4gIHJldHVybiBbIHBocmFzZXR5cGUsIHNrLCBzdiwgb2ssIG92LCBpZHgsIF1cblxuIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AbmV3X3F1ZXJ5ID0gKCBkYiwgaGludCApIC0+XG4gIHN3aXRjaCB0eXBlID0gQ05ELnR5cGVfb2YgaGludFxuICAgIHdoZW4gJ3RleHQnIHRoZW4gcmV0dXJuIEBfcXVlcnlfZnJvbV9wYXJ0aWFsX3VybCBkYiwgaGludFxuICAgIHdoZW4gJ2xpc3QnIHRoZW4gcmV0dXJuIEBfcXVlcnlfZnJvbV9wYXJ0aWFsX2tleSBkYiwgaGludFxuICB0aHJvdyBuZXcgRXJyb3IgXCJleHBlY3RlZCBhIHBhcnRpYWwgVVJMIChhIHRleHQpIG9yIGtleSAoYSBsaXN0KSwgZ290IGEgI3t0eXBlfVwiXG5cbiMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQF9xdWVyeV9mcm9tX3BhcnRpYWxfdXJsID0gKCBkYiwgcHVybCApIC0+XG4gIFsgcGhyYXNldHlwZSwgdGFpbCwgXSA9IHB1cmwuc3BsaXQgJ3wnLCAyXG4gIFsgazAsIHYwLCBdICAgICAgICAgICA9IGlmIHRhaWw/IHRoZW4gKCB0YWlsLnNwbGl0ICc6JywgMiApIGVsc2UgWyBudWxsLCBudWxsLCBdXG4gIHBrZXkgICAgICAgICAgICAgICAgICA9IFsgcGhyYXNldHlwZSwgXVxuICBwa2V5LnB1c2ggazAgaWYgazA/XG4gIHBrZXkucHVzaCB2MCBpZiB2MD9cbiAgcmV0dXJuIEBfcXVlcnlfZnJvbV9wYXJ0aWFsX2tleSBkYiwgcGtleVxuXG4jLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBfcXVlcnlfZnJvbV9wYXJ0aWFsX2tleSA9ICggZGIsIHBrZXkgKSAtPlxuICBmb3IgZWxlbWVudCBpbiBwa2V5XG4gICAgdGhyb3cgbmV3IEVycm9yIFwiaWxsZWdhbCBwcmVmaXgta2V5OiAje3JwciBwa2V5fVwiIHVubGVzcyBDTkQuaXNhX3RleHQgZWxlbWVudFxuICBiYXNlICAgICAgICAgICAgICAgID0gQF9lbmNvZGUgZGIsIHBrZXlcbiAgbGVuZ3RoICAgICAgICAgICAgICA9IGJhc2UubGVuZ3RoXG4gIHRocm93IG5ldyBFcnJvciBcImlsbGVnYWwgcHJlZml4LWtleTogI3tycHIgcGtleX1cIiB1bmxlc3MgYmFzZVsgbGVuZ3RoIC0gMSBdIGlzIDB4MDBcbiAgdGhyb3cgbmV3IEVycm9yIFwiaWxsZWdhbCBwcmVmaXgta2V5OiAje3JwciBwa2V5fVwiIHVubGVzcyBiYXNlWyBsZW5ndGggLSAyIF0gaXMgMHgwMFxuICBiYXNlWyBsZW5ndGggLSAyIF0gID0gMHhmZlxuICBndGUgICAgICAgICAgICAgICAgID0gYmFzZS5zbGljZSAwLCBsZW5ndGggLSAyXG4gIGx0ZSAgICAgICAgICAgICAgICAgPSBiYXNlLnNsaWNlIDAsIGxlbmd0aCAtIDFcbiAgcmV0dXJuIHsgZ3RlLCBsdGUsIH1cblxuXG5cblxuXG4iXX0=